<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2025-09-06T06:18:09+02:00</updated><id>/feed.xml</id><title type="html">Niklas Hilding</title><entry><title type="html">My Vim configuration and wow</title><link href="/open-source/project/2025/09/05/my-vim-configuration-and-wow.html" rel="alternate" type="text/html" title="My Vim configuration and wow" /><published>2025-09-05T00:00:00+02:00</published><updated>2025-09-05T00:00:00+02:00</updated><id>/open-source/project/2025/09/05/my-vim-configuration-and-wow</id><content type="html" xml:base="/open-source/project/2025/09/05/my-vim-configuration-and-wow.html"><![CDATA[<p>I recently changed clients and now have an assignment where I configure and troubleshoot several Linux systems. It is part of my daily work but I also do a lot of development in Python and C++, at my previous job the recommended editor was VSCodium and we had a lot of special plugins that made the work easier. That is why I chose to change my primary editor to VSCodium, I know it is not a compulsion but I have always found it easiest to work in one and the same editor both at work and in my free time.</p>

<p>But my new assignment makes it much easier to use Vim instead of any other editor. This is a small walkthrough of the configuration I use at home. Due to security class, I can’t really use the same configuration at work.</p>

<h4 id="nerdtree">NERDTree</h4>
<p><img class="img-fluid" src="/assets/img/2025-09-05-my-vim-configuration-and-wow_1.png" /></p>

<p>The NERDTree is a file system explorer for the Vim editor.</p>

<h4 id="ctrlp">CtrlP</h4>
<p><img class="img-fluid" src="/assets/img/2025-09-05-my-vim-configuration-and-wow_2.png" /></p>

<p>CtrlP is a great fuzzy file finder for Vim. As a complement to NERDtree, I think it’s perfect. When I’m comfortable in projects, it’s easier and faster to open files by name than to click through to the files.</p>

<h4 id="fzf">Fzf</h4>
<p><img class="img-fluid" src="/assets/img/2025-09-05-my-vim-configuration-and-wow_3.png" /></p>

<p>fzf itself is not a Vim plugin, and the official repository only provides the basic wrapper function for Vim. It’s up to the users to write their own Vim commands with it.</p>

<p>I mainly use the :Buffert function which is absolutely fantastic and makes it super easy to work with multiple files at the same time.</p>]]></content><author><name></name></author><category term="open-source" /><category term="project" /><category term="vim" /><category term="words" /><summary type="html"><![CDATA[I recently changed clients and now have an assignment where I configure and troubleshoot several Linux systems. It is part of my daily work but I also do a lot of development in Python and C++, at my previous job the recommended editor was VSCodium and we had a lot of special plugins that made the work easier. That is why I chose to change my primary editor to VSCodium, I know it is not a compulsion but I have always found it easiest to work in one and the same editor both at work and in my free time.]]></summary></entry><entry><title type="html">I was this old when i found tmux</title><link href="/open-source/project/2025/09/04/i-was-this-old-when-i-found-tmux.html" rel="alternate" type="text/html" title="I was this old when i found tmux" /><published>2025-09-04T00:00:00+02:00</published><updated>2025-09-04T00:00:00+02:00</updated><id>/open-source/project/2025/09/04/i-was-this-old-when-i-found-tmux</id><content type="html" xml:base="/open-source/project/2025/09/04/i-was-this-old-when-i-found-tmux.html"><![CDATA[<p>Tmux is a terminal multiplexer: it enables a number of terminals to be created, accessed. and conmntrolled from a single screen. <strong>tmux</strong> may be detached froma screen and continue running in the background, then lates reattached.</p>

<ul>
  <li>Fully customizable status bar</li>
  <li>Multiple window management</li>
  <li>Splitting window in several panes</li>
  <li>Automatic layouts</li>
  <li>Panel synchronization</li>
  <li>
    <p>Scriptability, which allows me to create custom tmux sessions for different purposes</p>

    <p><img class="img-fluid" src="/assets/img/2025-09-04-i-was-this-old-when-i-found-tmux.png" /></p>
  </li>
</ul>

<h4 id="install-tmux">Install tmux</h4>

<p>Tmux is avelibal in most distributions. I use Ubuntu so i install will <code class="language-plaintext highlighter-rouge">apt</code></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>tmux</code></pre></figure>

<h4 id="get-started">Get started</h4>
<p>To start using tmux, type tmux on your terminal. This command launches a tmux server, creates a default session (number 0) with a single window, and attaches to it.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="nv">$ </span>tmux</code></pre></figure>

<h4 id="tmux-keybindings">Tmux keybindings</h4>

<ul>
  <li>Ctrl+B D — Detach from the current session.</li>
  <li>Ctrl+B % — Split the window into two panes horizontally.</li>
  <li>Ctrl+B “ — Split the window into two panes vertically.</li>
  <li>Ctrl+B Arrow Key (Left, Right, Up, Down) — Move between panes.</li>
  <li>Ctrl+B X — Close pane.</li>
  <li>Ctrl+B C — Create a new window.</li>
  <li>Ctrl+B N or P — Move to the next or previous window.</li>
  <li>Ctrl+B 0 (1,2…) — Move to a specific window by number.</li>
  <li>Ctrl+B : — Enter the command line to type commands. Tab completion is available.</li>
  <li>Ctrl+B ? — View all keybindings. Press Q to exit.</li>
  <li>Ctrl+B W — Open a panel to navigate across windows in multiple sessions.</li>
</ul>]]></content><author><name></name></author><category term="open-source" /><category term="project" /><category term="linux" /><category term="ubuntu" /><summary type="html"><![CDATA[Tmux is a terminal multiplexer: it enables a number of terminals to be created, accessed. and conmntrolled from a single screen. tmux may be detached froma screen and continue running in the background, then lates reattached.]]></summary></entry><entry><title type="html">Install Qt on Ubuntu 24.04.2</title><link href="/pen-source/project/2025/07/05/install-qt-on-ubuntu-24-04-2.html" rel="alternate" type="text/html" title="Install Qt on Ubuntu 24.04.2" /><published>2025-07-05T00:00:00+02:00</published><updated>2025-07-05T00:00:00+02:00</updated><id>/pen-source/project/2025/07/05/install-qt-on-ubuntu-24-04-2</id><content type="html" xml:base="/pen-source/project/2025/07/05/install-qt-on-ubuntu-24-04-2.html"><![CDATA[<p>This is how i installed Qt on Ubuntu 24.04.2.</p>

<ul>
  <li>First step go to <a href="https://www.qt.io/">Qt.io</a></li>
  <li>Click on the “Download. Try.” button.</li>
  <li>Click on “Community User”</li>
  <li>Scroll down to “Looking for Qt Binaries” and click download”</li>
  <li>Download (click) the Linux button.</li>
</ul>

<p>Now ytou will have a <code class="language-plaintext highlighter-rouge">qt-online-installer-linux-x64-4.10.0.run</code>
Make the file executable by running <code class="language-plaintext highlighter-rouge">chmod +x qt-online-installer-linux-x64-4.10.0.run</code></p>

<p>You will need to create a Qt account and after this it will be installed.</p>]]></content><author><name></name></author><category term="pen-source" /><category term="project" /><category term="Qt" /><category term="Ubuntu" /><summary type="html"><![CDATA[This is how i installed Qt on Ubuntu 24.04.2.]]></summary></entry><entry><title type="html">Updated SDL2Bootstrap</title><link href="/open-source/project/2025/02/23/updated-sdl2bootstrap.html" rel="alternate" type="text/html" title="Updated SDL2Bootstrap" /><published>2025-02-23T00:00:00+01:00</published><updated>2025-02-23T00:00:00+01:00</updated><id>/open-source/project/2025/02/23/updated-sdl2bootstrap</id><content type="html" xml:base="/open-source/project/2025/02/23/updated-sdl2bootstrap.html"><![CDATA[<p>I updated my <a href="https://github.com/niklasnson/SDL2Bootstrap">SDL2 Bootstrap</a>, i will start working on a small game, just to do some other programming than i normally do in C++. The game will live at <a href="https://github.com/niklasnson/missile_command.cpp">GitHub</a>.</p>

<p>My thought is to have a easy setup to start doing a new game with the basic skeleton that you might want to have.</p>]]></content><author><name></name></author><category term="open-source" /><category term="project" /><category term="cpp" /><category term="sdl2" /><category term="gamedev" /><summary type="html"><![CDATA[I updated my SDL2 Bootstrap, i will start working on a small game, just to do some other programming than i normally do in C++. The game will live at GitHub.]]></summary></entry><entry><title type="html">epilogue.rb</title><link href="/open-source/project/2025/02/08/epilogue-rb.html" rel="alternate" type="text/html" title="epilogue.rb" /><published>2025-02-08T00:00:00+01:00</published><updated>2025-02-08T00:00:00+01:00</updated><id>/open-source/project/2025/02/08/epilogue-rb</id><content type="html" xml:base="/open-source/project/2025/02/08/epilogue-rb.html"><![CDATA[<p>I just started working a new project, i spent time thinking about a web based notes system for a while and im thinking it will be a fun project to do in Rails 8.0. I have started working on scaffolding the application and as soon as i have made the first basic functions i will make the code public on github.</p>

<p>Name on the project is epilogue.rb - i will keep you posted on updates.</p>]]></content><author><name></name></author><category term="open-source" /><category term="project" /><category term="ruby" /><category term="rspec" /><category term="rails" /><summary type="html"><![CDATA[I just started working a new project, i spent time thinking about a web based notes system for a while and im thinking it will be a fun project to do in Rails 8.0. I have started working on scaffolding the application and as soon as i have made the first basic functions i will make the code public on github.]]></summary></entry><entry><title type="html">Installing KDE Frameworks</title><link href="/open-source/kde/2023/12/16/installing-kde-frameworks.html" rel="alternate" type="text/html" title="Installing KDE Frameworks" /><published>2023-12-16T00:00:00+01:00</published><updated>2023-12-16T00:00:00+01:00</updated><id>/open-source/kde/2023/12/16/installing-kde-frameworks</id><content type="html" xml:base="/open-source/kde/2023/12/16/installing-kde-frameworks.html"><![CDATA[<p>After following the instructions found at <a href="https://community.kde.org/Get_Involved/development/Set_up_a_development_environment">Get Involved/development/Set up a development environment</a>. I got some strange errors running my sample CMAKE file.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Installing <span class="k">in</span> /usr/local. Run /home/niklasnson/Projects/Active/sample/build/prefix.sh to <span class="nb">set </span>the environment <span class="k">for </span>helloworld.
fatal: not a git repository <span class="o">(</span>or any of the parent directories<span class="o">)</span>: .git
fatal: not a git repository <span class="o">(</span>or any of the parent directories<span class="o">)</span>: .git
<span class="nt">--</span> Could NOT find KF5CoreAddons <span class="o">(</span>missing: KF5CoreAddons_DIR<span class="o">)</span>
<span class="nt">--</span> Could NOT find KF5CoreAddons: found neither KF5CoreAddonsConfig.cmake nor kf5coreaddons-config.cmake
<span class="nt">--</span> Could NOT find KF5I18n <span class="o">(</span>missing: KF5I18n_DIR<span class="o">)</span>
<span class="nt">--</span> Could NOT find KF5I18n: found neither KF5I18nConfig.cmake nor kf5i18n-config.cmake
CMake Error at /usr/share/cmake-3.27/Modules/FindPackageHandleStandardArgs.cmake:230 <span class="o">(</span>message<span class="o">)</span>:
  Could NOT find KF5 <span class="o">(</span>missing: CoreAddons I18n<span class="o">)</span> <span class="o">(</span>found suitable version
  <span class="s2">"5.110.0"</span>, minimum required is <span class="s2">"5.78.0"</span><span class="o">)</span>
Call Stack <span class="o">(</span>most recent call first<span class="o">)</span>:
  /usr/share/cmake-3.27/Modules/FindPackageHandleStandardArgs.cmake:600 <span class="o">(</span>_FPHSA_FAILURE_MESSAGE<span class="o">)</span>
  /usr/share/ECM/find-modules/FindKF5.cmake:93 <span class="o">(</span>find_package_handle_standard_args<span class="o">)</span>
  CMakeLists.txt:21 <span class="o">(</span>find_package<span class="o">)</span></code></pre></figure>

<p>After while i found a this <a href="https://github.com/ktechlab/ktechlab/issues/53">issue</a> where i found out to add the following development packages.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">libkf5doctools-dev
libkf5texteditor-dev
libkf5kdelibs4support-dev</code></pre></figure>

<p>Now i can run my cmake file without any errors.</p>]]></content><author><name></name></author><category term="open-source" /><category term="KDE" /><category term="cpp," /><category term="kde" /><category term="kde-community" /><summary type="html"><![CDATA[After following the instructions found at Get Involved/development/Set up a development environment. I got some strange errors running my sample CMAKE file.]]></summary></entry><entry><title type="html">Normalizes method in Rails 7.1</title><link href="/ruby/2023/12/03/normalizes-method-in-rails-7-1.html" rel="alternate" type="text/html" title="Normalizes method in Rails 7.1" /><published>2023-12-03T00:00:00+01:00</published><updated>2023-12-03T00:00:00+01:00</updated><id>/ruby/2023/12/03/normalizes-method-in-rails-7-1</id><content type="html" xml:base="/ruby/2023/12/03/normalizes-method-in-rails-7-1.html"><![CDATA[<p>I’m refactoring my normalizes methods in Rails with tne new <a href="https://edgeapi.rubyonrails.org/classes/ActiveRecord/Normalization/ClassMethods.html#method-i-normalizes">normalizes</a> method. Lets take a look together.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">normalizes</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">with: </span><span class="o">-&gt;</span> <span class="n">email</span> <span class="p">{</span> <span class="n">email</span><span class="p">.</span><span class="nf">strip</span><span class="p">.</span><span class="nf">downcase</span> <span class="p">}</span>
<span class="k">end</span>

<span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">email: </span><span class="s2">" CRUISE-CONTROL@EXAMPLE.COM</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
<span class="n">user</span><span class="p">.</span><span class="nf">email</span>                  <span class="c1"># =&gt; "cruise-control@example.com"</span></code></pre></figure>

<p>Code in my project before the refactoring, for the username i use the unicode_normalice function to return a normalized form of str, using Unicode normalizations NFC, NFD, NFKC, or NFKD.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">  <span class="k">def</span> <span class="nf">normalize_username</span>
    <span class="n">username</span><span class="p">.</span><span class="nf">unicode_normalize!</span>
    <span class="nb">self</span><span class="p">.</span><span class="nf">username_lower</span> <span class="o">=</span> <span class="n">username</span><span class="p">.</span><span class="nf">downcase</span>
  <span class="k">end</span>
<span class="p">}</span></code></pre></figure>

<p>After refactoring the code it looks like this:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="n">normalizes</span> <span class="ss">:username</span><span class="p">,</span> <span class="ss">with: </span><span class="o">-&gt;</span> <span class="n">username</span> <span class="p">{</span> <span class="n">username</span><span class="p">.</span><span class="nf">unicode_normalize</span><span class="p">.</span><span class="nf">strip</span><span class="p">.</span><span class="nf">downcase</span> <span class="p">}</span>
<span class="k">end</span></code></pre></figure>

<p>And we have a bit more clean code with less functions to test.</p>]]></content><author><name></name></author><category term="ruby" /><category term="rails" /><category term="rails" /><summary type="html"><![CDATA[I’m refactoring my normalizes methods in Rails with tne new normalizes method. Lets take a look together.]]></summary></entry><entry><title type="html">Next and previous buttons for active record</title><link href="/ruby/snippets/2023/12/02/next-and-previous-buttons-for-active-record.html" rel="alternate" type="text/html" title="Next and previous buttons for active record" /><published>2023-12-02T00:00:00+01:00</published><updated>2023-12-02T00:00:00+01:00</updated><id>/ruby/snippets/2023/12/02/next-and-previous-buttons-for-active-record</id><content type="html" xml:base="/ruby/snippets/2023/12/02/next-and-previous-buttons-for-active-record.html"><![CDATA[<p>Having buttons to go to the next or back out of an actice record is a desired function, for example, when creating a photo album. So how can one create this functionality in Rails?</p>

<p>Class:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">  <span class="k">def</span> <span class="nf">next</span><span class="p">()</span>
    <span class="no">Photo</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="s2">"id &lt; ? AND user_id = ?"</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">user_id</span><span class="p">).</span><span class="nf">order</span><span class="p">(</span><span class="ss">id: :desc</span><span class="p">).</span><span class="nf">first</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">previous</span><span class="p">()</span>
    <span class="no">Photo</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="s2">"id &gt; ? AND user_id = ?"</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">user_id</span><span class="p">).</span><span class="nf">order</span><span class="p">(</span><span class="ss">id: :asc</span><span class="p">).</span><span class="nf">first</span>
  <span class="k">end</span></code></pre></figure>

<p><em>In my case this is in the photo class</em></p>

<p>View:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"> <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"mb-auto"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;</span><span class="err">%</span> <span class="na">unless</span> <span class="err">@</span><span class="na">photo.previous.nil</span><span class="err">?</span> <span class="err">%</span><span class="nt">&gt;</span>
          <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">link_to</span> <span class="err">"</span><span class="na">Previous</span><span class="err">",</span>
            <span class="na">user_photo_url</span><span class="err">(</span><span class="na">user_username:</span> <span class="err">@</span><span class="na">photo.user.username_lower</span><span class="err">,</span> <span class="na">id:</span> <span class="err">@</span><span class="na">photo.previous.id</span><span class="err">),</span>
              <span class="na">class:</span> <span class="err">"</span><span class="na">btn</span> <span class="na">btn-dark</span> <span class="na">btn-lg</span> <span class="na">border-0</span><span class="err">",</span> <span class="err">"</span><span class="na">data-photo-target</span><span class="err">"</span><span class="na">:</span> <span class="err">"</span><span class="na">previous</span><span class="err">"</span> <span class="err">%</span><span class="nt">&gt;</span>
        <span class="nt">&lt;</span><span class="err">%</span> <span class="na">end</span> <span class="err">%</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/div&gt;</span></code></pre></figure>

<p><em>This is from the view file</em></p>

<p>So by retrieving higher or lower than the id that we have currently uploaded, we get the next and earlier, in my case I have also added user_id to filter on which user uploaded. This could of course be a different filter or be missing altogether.</p>]]></content><author><name></name></author><category term="ruby" /><category term="snippets" /><category term="ruby" /><category term="rails" /><summary type="html"><![CDATA[Having buttons to go to the next or back out of an actice record is a desired function, for example, when creating a photo album. So how can one create this functionality in Rails?]]></summary></entry><entry><title type="html">Detect suspicious logins</title><link href="/security/2023/11/26/detect-suspicious-logins.html" rel="alternate" type="text/html" title="Detect suspicious logins" /><published>2023-11-26T00:00:00+01:00</published><updated>2023-11-26T00:00:00+01:00</updated><id>/security/2023/11/26/detect-suspicious-logins</id><content type="html" xml:base="/security/2023/11/26/detect-suspicious-logins.html"><![CDATA[<p>For the project im currently working on i wanted to add some additinal security by detecting suspicious logins, after a lot of ideas of looking on the geographical origin of the request i ended up in looking on the IP address, you would expect that you will get some possitive faults when a user uses a diffrent device to login - but i dont think this will be a verry common for more then 1-3 devices issue.</p>

<p>The action taken will be to send a mail to user asking <em>“was it you who signed in, otherwise please act”</em>.</p>

<h4 id="ruby-ipaddr">Ruby IPAddr</h4>
<p>IPAddr provides a set of methods to manipulate an IP address. Both IPv4 and IPv6 are supported. Using the ´mask(prefixlen)´ - witch returns a new ipaddr built by masking IP address with the given prefixlen/netmask. (e.g. 8, 64, “255.255.255.0”, etc.). This can then then be used to query the database of saved IP addresses if currrent ip mask exists. If not it is a considerd a new IP address and a suspicious login.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">  <span class="n">ip_addr</span> <span class="o">=</span> <span class="no">IPAddr</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="nf">remote_ip</span><span class="p">)</span>
  <span class="n">ip_addr</span><span class="p">.</span><span class="nf">mask</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span></code></pre></figure>]]></content><author><name></name></author><category term="security" /><category term="ruby" /><category term="rails" /><summary type="html"><![CDATA[For the project im currently working on i wanted to add some additinal security by detecting suspicious logins, after a lot of ideas of looking on the geographical origin of the request i ended up in looking on the IP address, you would expect that you will get some possitive faults when a user uses a diffrent device to login - but i dont think this will be a verry common for more then 1-3 devices issue.]]></summary></entry><entry><title type="html">Compressing HTML</title><link href="/snippet/2022/12/24/compressing-html.html" rel="alternate" type="text/html" title="Compressing HTML" /><published>2022-12-24T00:00:00+01:00</published><updated>2022-12-24T00:00:00+01:00</updated><id>/snippet/2022/12/24/compressing-html</id><content type="html" xml:base="/snippet/2022/12/24/compressing-html.html"><![CDATA[<p>Small snippet to compress HTML in Ruby. Returning from function is a string with the basic compressed HTML.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">compress</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
  <span class="n">html</span><span class="p">.</span><span class="nf">gsub!</span><span class="p">(</span><span class="sr">/\n+/</span><span class="p">,</span><span class="s1">''</span><span class="p">)</span>
  <span class="n">html</span><span class="p">.</span><span class="nf">gsub!</span><span class="p">(</span><span class="s1">'  '</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>
  <span class="n">html</span><span class="p">.</span><span class="nf">gsub!</span><span class="p">(</span><span class="s1">'&gt; &lt;'</span><span class="p">,</span> <span class="s1">'&gt;&lt;'</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="n">html</span>
<span class="k">end</span></code></pre></figure>]]></content><author><name></name></author><category term="snippet" /><category term="ruby" /><summary type="html"><![CDATA[Small snippet to compress HTML in Ruby. Returning from function is a string with the basic compressed HTML.]]></summary></entry></feed>